---
title: "Extra"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
## Question 10 for 0.5 extra on Assignment 1

Group number 5: Saif Abdoelrazak, Koert MÃ¶llers, Charlotte de Jong


In this bonus exercise, we will be using the `economics` dataset to highlight the Great Recession, which caused a surge in unemployment rates in the United States. We will also be showing the decline in personal consumption during the recession. 


First, we declare our libraries

```{r}
library(ISLR)
library(tidyverse)
library(ggplot2)
```

Then we subset our data, in order to only show data from 2000-01-01 until 2010-12-01

```{r}
economics_subset <- subset(economics, 
                           date > "1999-12-01" & date < "2011-01-01")
head(economics_subset)
tail(economics_subset)
```
Then lastly, we plot our graph which includes an annotation that highlights the great recession

```{r}
ecoplot <- ggplot() + 
  geom_line(data = economics_subset, mapping = aes(x = `date`, y = `unemploy`, colour = 'unemployed in thousands')) + 
  geom_line(data = economics_subset, mapping = aes(x = `date`, y = `pce`, colour = 'personal consumption in billions($)')) +
  scale_x_date(date_labels = "20%y", date_breaks = "2 year") +
  labs(title = "Personal Consumption and Unemployment from 2000-2010 in the US")+ 
  ylab( "Unemployment in thousands/Personal consumption in billions($)") +
  xlab("Date") + 
  annotate(geom = "rect", xmin = as.Date("2007-12-01"), xmax = as.Date("2009-06-01"), ymin = 0, ymax = 15000, fill = "red", alpha = 0.2) +
  annotate(geom = "text", x = as.Date("2008-06-01"), y = 1000, label = "The Great Recession")+
  theme_minimal()
 
ecoplot
  
```

